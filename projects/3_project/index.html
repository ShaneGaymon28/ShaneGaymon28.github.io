<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Web Application Programming | Eric Shane Gaymon</title> <meta name="author" content="Eric Shane Gaymon"> <meta name="description" content="Web application projects"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website, software-engineer"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?19f3075a2d19613090fe9e16b564e1fe" media="" id="highlight_theme_light"> <link href="/assets/css/bootstrap-toc.min.css?6f5af0bb9aab25d79b2448143cbeaa88" rel="stylesheet"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://shanegaymon28.github.io/projects/3_project/"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?e74e74bf055e5729d44a7d031a5ca6a5" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?96d6b3e1c3604aca8b6134c7afdd5db6"></script> <script src="/assets/js/dark_mode.js?9b17307bb950ffa2e34be0227f53558f"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Eric </span>Shane Gaymon</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about</a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="row"> <div class="col-sm-3"> <nav id="toc-sidebar" class="sticky-top"></nav> </div> <div class="col-sm-9"> <div class="post"> <header class="post-header"> <h1 class="post-title">Web Application Programming</h1> <p class="post-description">Web application projects</p> </header> <article> <p><a href="https://github.com/ShaneGaymon28/Web-Application-Programming" rel="external nofollow noopener" target="_blank">Link to this Github repository</a></p> <div class="row justify-content-center"> <h4><strong><u>Technologies</u></strong></h4> </div> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <div class="caption"> <strong>HTML</strong> </div> <figure> <picture> <img src="/assets/img/logos/html.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="Java" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <div class="caption"> <strong>CSS</strong> </div> <figure> <picture> <img src="/assets/img/logos/css.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="MySQL" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <div class="caption"> <strong>AWS EC2</strong> </div> <figure> <picture> <img src="/assets/img/logos/ec2.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="AWS RDS" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <div class="caption"> <strong>JavaScript</strong> </div> <figure> <picture> <img src="/assets/img/logos/jsLogo.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="AWS RDS" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <div class="caption"> <strong>NodeJs</strong> </div> <figure> <picture> <img src="/assets/img/logos/node.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="AWS RDS" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <div class="caption"> <strong>Nginx</strong> </div> <figure> <picture> <img src="/assets/img/logos/nginxLogo.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="AWS RDS" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <div class="caption"> <strong>Apache</strong> </div> <figure> <picture> <img src="/assets/img/logos/apache.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="AWS RDS" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <div class="caption"> <strong>React</strong> </div> <figure> <picture> <img src="/assets/img/logos/react.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="AWS RDS" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h4><strong><u>Introduction</u></strong></h4> <p>This collection of projects were completed at Clemson University as part of my Web Application Development class. In total there are 6 projects that increase in difficulty with each subsequent project. The aim of the class is to teach students how to build and host web applications and common programming languages used to do so. Each project was hosted on an AWS EC2 instance that was accessible by a public IP address (NOTE: the projects are no longer accessible by public IP address). The EC2 instance used Ubuntu Linux.</p> <h4><strong><u>Project 1</u></strong></h4> <h6><strong>Description</strong></h6> <p>The first project was the basic setup of an AWS EC2 instance. I was asked to create and configure an EC2 instance that can be accessed with a public IP address, install apache (to host HTML files), and create a basic HTML page.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/proj3/p1.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="Project 1" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> <strong>Fig. 1 - Project 1</strong> </div> <h4><strong><u>Project 2</u></strong></h4> <h6><strong>Description</strong></h6> <p>Project 2 required us to complete a simple Tic Tac Toe game using HTML, JavaScript, and CSS. The project requirements are as follows:</p> <ul> <li>Show a 3x3 grid of buttons with innerHTML representing blank, x, or o</li> <li>Show a button that allows the AI to go first</li> <li>Show a button to refresh the game</li> <li>User plays against computer and player goes first unless otherwise specified</li> <li>User is always x</li> <li>Detect win conditions</li> <li>Detect cat game (no winner, no moves left)</li> </ul> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/proj3/p2.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="Project 2" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> <strong>Fig. 2 - Project 2 Tic Tac Toe</strong> </div> <h4><strong><u>A Note About Projects 3-6</u></strong></h4> <p>Beginning with project 3, we used nginx and NodeJs to host our projects. It was a bit complicated to setup, here’s what we did:</p> <ol> <li>Install nginx and NodeJs on the AWS instance</li> <li>Disable apache (from previous projects) and enable nginx</li> <li>Modify the nginx config file to send dynamic requests to port 3000</li> <li>Create the following directories</li> <ul> <li>A project directory in the home folder</li> <li>A documentRoot folder within the project folder</li> <li>A server folder within the project folder</li> </ul> <li>Create a symlink between the documentRoot folder and /var/www/html/projectNumber</li> <li>Run `npm init` in the server folder and install the expressJs package with npm</li> <li>Create a service file for NodeJs</li> <li>Start the NodeJs service we created in the previous step</li> </ol> <p>Projects 3 and 4 use this same folder structure, while project 5 only required us to use NodeJs to create a REST API. Project 6 uses the node server created in project 5 to build a React user interface.</p> <h4><strong><u>Project 3</u></strong></h4> <h6><strong>Description</strong></h6> <p>The third project for this class involved transitioning from apache2 and static files to a combination of nginx and NodeJs. We installed and configured nginx and nodejs, hosted a static file through nginx and configured nginx to send certain requests to nodejs which will return dynamic content.</p> <p>I was required to:</p> <ul> <li>Install nginx and NodeJs</li> <li>Modify the nginx config file to send requests that start with /dynamic/ to the NodeJs server</li> <li>Setup a NodeJs project</li> <li>Create an Index.html file shown at `http://yourip/project3/`</li> <li>The URL `http://yourip/project3/dynamic/` should return "Hello World"</li> <li>The URL `http://yourip/project3/dynamic/time` should return the current date and time</li> <li>Any other url that starts with `http://yourip/project3/dynamic/` besides what's listed above should return "The path was {path}</li> </ul> <p>To do this, I edited the nginx configuration file to pass requests with the path <code class="language-plaintext highlighter-rouge">/project3/dynamic/</code> to port 3000, where our node server is running.</p> <p>This script handles the dynamic requests:</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">express</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">express</span><span class="dl">'</span><span class="p">)</span>
<span class="kd">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nf">express</span><span class="p">()</span>
<span class="kd">const</span> <span class="nx">port</span> <span class="o">=</span> <span class="mi">3000</span>


<span class="nx">app</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">/</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">res</span><span class="p">.</span><span class="nf">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">Hello World!</span><span class="dl">'</span><span class="p">)</span>
<span class="p">})</span>

<span class="nx">app</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">/time</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>		
	<span class="nx">res</span><span class="p">.</span><span class="nf">send</span><span class="p">(</span><span class="k">new</span> <span class="nc">Date</span><span class="p">().</span><span class="nf">toString</span><span class="p">())</span>
<span class="p">})</span>

<span class="nx">app</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">*</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
	<span class="nx">res</span><span class="p">.</span><span class="nf">send</span><span class="p">(</span><span class="s2">`path was </span><span class="p">${</span><span class="nx">req</span><span class="p">.</span><span class="nx">path</span><span class="p">}</span><span class="s2">`</span><span class="p">)</span>
<span class="p">})</span>

<span class="nx">app</span><span class="p">.</span><span class="nf">listen</span><span class="p">(</span><span class="nx">port</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`Example app listening on port </span><span class="p">${</span><span class="nx">port</span><span class="p">}</span><span class="s2">`</span><span class="p">)</span>
<span class="p">})</span>
</code></pre></div></div> <h4><strong><u>Project 4</u></strong></h4> <h6><strong>Description</strong></h6> <p>Project 4 involved creating a set of files that allows users to register, authenticate, and view a protected resource. This was done using HTML, JavaScript, NodeJs, nginx, js promises, sessions, and JSON files. I was provided with starter code that had 8 spots where I had to fill in the required code, 4 pertaining to the NodeJs server and 4 in the HTML front-end. Since we need to keep track of different pieces of user info, a redis database was used to store the user data being passed to the server.</p> <p>The server-side code I was required to complete (all in <strong>server/server.js</strong>):</p> <ul> <li>A function to compute the hash value given a password and a base64 encoded salt using sha256 </li> <li>The POST handler for /user/auth</li> <li>The GET handler for /user/exists</li> <li>The POST handler for /user</li> </ul> <p>The front-end code I was required to complete:</p> <ul> <li> <strong>documentRoot/login/index.html</strong> - A form that has 2 inputs, username and password</li> <li> <strong>documentRoot/registration/index.js</strong> - A function to validate a user's information when registering for an account</li> <li> <strong>documentRoot/registration/index.js</strong> - A function to get the value of the username field and validate that it is not empty, less than 25 characters, and that no users with that name already exist</li> <li> <strong>documentRoot/registration/index.js</strong> - A function to get the value of the password field and determine how complex it is for the password strength indicator</li> </ul> <p>Compute Hash function:</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">computeHash</span> <span class="o">=</span> <span class="p">(</span><span class="nx">password</span><span class="p">,</span> <span class="nx">salt</span><span class="p">)</span><span class="o">=&gt;</span><span class="p">{</span>	
	<span class="kd">const</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nf">createHash</span><span class="p">(</span><span class="dl">'</span><span class="s1">sha256</span><span class="dl">'</span><span class="p">);</span>
	<span class="nx">hash</span><span class="p">.</span><span class="nf">update</span><span class="p">(</span><span class="nx">password</span><span class="o">+</span><span class="nx">salt</span><span class="p">);</span>
	<span class="kd">const</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">hash</span><span class="p">.</span><span class="nf">digest</span><span class="p">(</span><span class="dl">'</span><span class="s1">base64</span><span class="dl">'</span><span class="p">);</span>
	<span class="c1">//returns an object with salt and hash value</span>
	<span class="k">return</span> <span class="nx">value</span><span class="p">;</span>
<span class="p">}</span>

</code></pre></div></div> <p>POST handler for /user/auth:</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">app</span><span class="p">.</span><span class="nf">post</span><span class="p">(</span><span class="dl">'</span><span class="s1">/user/auth</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
	<span class="kd">const</span> <span class="p">{</span><span class="nx">userid</span><span class="p">,</span> <span class="nx">password</span><span class="p">}</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">userid</span> <span class="o">||</span> <span class="nx">userid</span> <span class="o">==</span> <span class="dl">""</span><span class="p">){</span>
		<span class="nx">res</span><span class="p">.</span><span class="nf">redirect</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">proxy_path</span><span class="p">}</span><span class="s2">/login/#</span><span class="p">${</span><span class="nf">encodeURIComponent</span><span class="p">(</span><span class="nx">errorMessages</span><span class="p">.</span><span class="nx">NO_USER</span><span class="p">)}</span><span class="s2">`</span><span class="p">);</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">password</span> <span class="o">||</span> <span class="nx">password</span> <span class="o">==</span> <span class="dl">""</span><span class="p">){</span>
		<span class="nx">res</span><span class="p">.</span><span class="nf">redirect</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">proxy_path</span><span class="p">}</span><span class="s2">/login/#</span><span class="p">${</span><span class="nf">encodeURIComponent</span><span class="p">(</span><span class="nx">errorMessages</span><span class="p">.</span><span class="nx">NO_PASSWORD</span><span class="p">)}</span><span class="s2">`</span><span class="p">);</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="p">}</span>	

	<span class="k">if</span><span class="p">(</span><span class="nx">userid</span> <span class="o">==</span> <span class="dl">"</span><span class="s2">admin</span><span class="dl">"</span><span class="p">){</span>
		<span class="k">return</span> <span class="nx">adminObj</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="kd">const</span> <span class="nx">user</span> <span class="o">=</span> <span class="nf">getUser</span><span class="p">(</span><span class="nx">userid</span><span class="p">);</span>
	<span class="k">if</span><span class="p">(</span><span class="nx">user</span> <span class="o">==</span> <span class="kc">false</span><span class="p">){</span>
		<span class="nx">res</span><span class="p">.</span><span class="nf">redirect</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">proxy_path</span><span class="p">}</span><span class="s2">/login/#</span><span class="p">${</span><span class="nf">encodeURIComponent</span><span class="p">(</span><span class="nx">errorMessages</span><span class="p">.</span><span class="nx">USER_NOT_FOUND</span><span class="p">)}</span><span class="s2">`</span><span class="p">);</span>	
		<span class="k">return</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">if</span><span class="p">(</span><span class="nf">computeHash</span><span class="p">(</span><span class="nx">password</span><span class="p">,</span> <span class="nx">user</span><span class="p">.</span><span class="nx">salt</span><span class="p">)</span> <span class="o">!=</span> <span class="nx">user</span><span class="p">.</span><span class="nx">passwordHash</span><span class="p">){</span>
		<span class="nx">res</span><span class="p">.</span><span class="nf">redirect</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">proxy_path</span><span class="p">}</span><span class="s2">/login/#</span><span class="p">${</span><span class="nf">encodeURIComponent</span><span class="p">(</span><span class="nx">errorMessages</span><span class="p">.</span><span class="nx">PASSWORD_NOT_MATCH</span><span class="p">)}</span><span class="s2">`</span><span class="p">);</span>		
		<span class="k">return</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">auth passed</span><span class="dl">'</span><span class="p">);</span>
	<span class="nx">req</span><span class="p">.</span><span class="nx">session</span><span class="p">.</span><span class="nx">userid</span> <span class="o">=</span> <span class="nx">userid</span><span class="p">;</span>
	<span class="nx">res</span><span class="p">.</span><span class="nf">redirect</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">proxy_path</span><span class="p">}</span><span class="s2">/dynamic/user/info`</span><span class="p">);</span> 
<span class="p">})</span>
</code></pre></div></div> <p>GET handler for /user/exists:</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">app</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">/user/exists</span><span class="dl">'</span><span class="p">,(</span><span class="nx">req</span><span class="p">,</span><span class="nx">res</span><span class="p">)</span><span class="o">=&gt;</span><span class="p">{</span>
	<span class="nx">userid</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">query</span><span class="p">.</span><span class="nx">userid</span><span class="p">;</span>

	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">userid</span> <span class="o">||</span> <span class="nx">userid</span> <span class="o">==</span> <span class="dl">""</span><span class="p">){</span>
		<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">userid is bad</span><span class="dl">'</span><span class="p">)</span>
		<span class="nx">res</span><span class="p">.</span><span class="nf">json</span><span class="p">({</span><span class="dl">"</span><span class="s2">exists</span><span class="dl">"</span><span class="p">:</span><span class="kc">false</span><span class="p">});</span>
	<span class="p">}</span>
	<span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nf">getUser</span><span class="p">(</span><span class="nx">userid</span><span class="p">)</span> <span class="o">==</span> <span class="kc">false</span><span class="p">){</span>
		<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">user no exist</span><span class="dl">'</span><span class="p">)</span>
		<span class="nx">res</span><span class="p">.</span><span class="nf">json</span><span class="p">({</span><span class="dl">"</span><span class="s2">exists</span><span class="dl">"</span><span class="p">:</span><span class="kc">false</span><span class="p">});</span>
	<span class="p">}</span>
	<span class="k">else</span> <span class="p">{</span>
		<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">user exists</span><span class="dl">'</span><span class="p">)</span>
		<span class="nx">res</span><span class="p">.</span><span class="nf">json</span><span class="p">({</span><span class="dl">"</span><span class="s2">exists</span><span class="dl">"</span><span class="p">:</span><span class="kc">true</span><span class="p">});</span>		
	<span class="p">}</span>
<span class="p">})</span>
</code></pre></div></div> <p>POST handler for /user:</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">app</span><span class="p">.</span><span class="nf">post</span><span class="p">(</span><span class="dl">'</span><span class="s1">/user</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
	<span class="kd">const</span> <span class="p">{</span><span class="nx">userid</span><span class="p">,</span> <span class="nx">password</span><span class="p">,</span> <span class="nx">name</span><span class="p">}</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">userid</span> <span class="o">||</span> <span class="nx">userid</span> <span class="o">==</span> <span class="dl">""</span><span class="p">){</span>
		<span class="nx">res</span><span class="p">.</span><span class="nf">redirect</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">proxy_path</span><span class="p">}</span><span class="s2">/registration/#</span><span class="p">${</span><span class="nf">encodeURIComponent</span><span class="p">(</span><span class="nx">errorMessages</span><span class="p">.</span><span class="nx">NO_USER</span><span class="p">)}</span><span class="s2">`</span><span class="p">);</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">userid</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">25</span><span class="p">){</span>
		<span class="nx">res</span><span class="p">.</span><span class="nf">redirect</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">proxy_path</span><span class="p">}</span><span class="s2">/registration/#</span><span class="p">${</span><span class="nf">encodeURIComponent</span><span class="p">(</span><span class="nx">errorMessages</span><span class="p">.</span><span class="nx">USER_TOO_LONG</span><span class="p">)}</span><span class="s2">`</span><span class="p">);</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nf">getUser</span><span class="p">(</span><span class="nx">userid</span><span class="p">)</span> <span class="o">!=</span> <span class="kc">false</span><span class="p">){</span>
		<span class="nx">res</span><span class="p">.</span><span class="nf">redirect</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">proxy_path</span><span class="p">}</span><span class="s2">/registration/#</span><span class="p">${</span><span class="nf">encodeURIComponent</span><span class="p">(</span><span class="nx">errorMessages</span><span class="p">.</span><span class="nx">USER_NOT_FOUND</span><span class="p">)}</span><span class="s2">`</span><span class="p">);</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">password</span> <span class="o">||</span> <span class="nx">password</span> <span class="o">==</span> <span class="dl">""</span><span class="p">){</span>
		<span class="nx">res</span><span class="p">.</span><span class="nf">redirect</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">proxy_path</span><span class="p">}</span><span class="s2">/registration/#</span><span class="p">${</span><span class="nf">encodeURIComponent</span><span class="p">(</span><span class="nx">errorMessages</span><span class="p">.</span><span class="nx">NO_PASSWORD</span><span class="p">)}</span><span class="s2">`</span><span class="p">);</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">password</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">){</span>
		<span class="nx">res</span><span class="p">.</span><span class="nf">redirect</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">proxy_path</span><span class="p">}</span><span class="s2">/registration/#</span><span class="p">${</span><span class="nf">encodeURIComponent</span><span class="p">(</span><span class="nx">errorMessages</span><span class="p">.</span><span class="nx">PASSWORD_TOO_LONG</span><span class="p">)}</span><span class="s2">`</span><span class="p">);</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">name</span> <span class="o">||</span> <span class="nx">name</span> <span class="o">==</span> <span class="dl">""</span><span class="p">){</span>
		<span class="nx">res</span><span class="p">.</span><span class="nf">redirect</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">proxy_path</span><span class="p">}</span><span class="s2">/registration/#</span><span class="p">${</span><span class="nf">encodeURIComponent</span><span class="p">(</span><span class="nx">errorMessages</span><span class="p">.</span><span class="nx">NO_NAME</span><span class="p">)}</span><span class="s2">`</span><span class="p">);</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">name</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">){</span>
		<span class="nx">res</span><span class="p">.</span><span class="nf">redirect</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">proxy_path</span><span class="p">}</span><span class="s2">/registration/#</span><span class="p">${</span><span class="nf">encodeURIComponent</span><span class="p">(</span><span class="nx">errorMessages</span><span class="p">.</span><span class="nx">NAME_TOO_LONG</span><span class="p">)}</span><span class="s2">`</span><span class="p">);</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">else</span> <span class="p">{</span>
		<span class="kd">const</span> <span class="nx">salt</span> <span class="o">=</span> <span class="p">(</span><span class="k">new</span> <span class="nc">Date</span><span class="p">()).</span><span class="nf">valueOf</span><span class="p">().</span><span class="nf">toString</span><span class="p">();</span>
		<span class="kd">const</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nf">computeHash</span><span class="p">(</span><span class="nx">password</span><span class="p">,</span> <span class="nx">salt</span><span class="p">);</span>
		<span class="kd">const</span> <span class="nx">user</span> <span class="o">=</span> <span class="p">{</span><span class="na">userid</span><span class="p">:</span><span class="nx">userid</span><span class="p">,</span> <span class="na">name</span><span class="p">:</span><span class="nx">name</span><span class="p">,</span> <span class="na">salt</span><span class="p">:</span><span class="nx">salt</span><span class="p">,</span> <span class="na">passwordHash</span><span class="p">:</span><span class="nx">hash</span><span class="p">};</span>
		<span class="nf">saveUser</span><span class="p">(</span><span class="nx">user</span><span class="p">);</span>
		<span class="nx">res</span><span class="p">.</span><span class="nf">redirect</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">proxy_path</span><span class="p">}</span><span class="s2">/login/#</span><span class="p">${</span><span class="nf">encodeURIComponent</span><span class="p">(</span><span class="nx">errorMessages</span><span class="p">.</span><span class="nx">REGISTRATION_SUCCESS</span><span class="p">)}</span><span class="s2">`</span><span class="p">);</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">})</span>
</code></pre></div></div> <p>Login form:</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;h1&gt;</span>Login<span class="nt">&lt;/h1&gt;</span>
<span class="nt">&lt;section&gt;</span>
	<span class="nt">&lt;form</span> <span class="na">action=</span><span class="s">"../dynamic/user/auth"</span> <span class="na">method=</span><span class="s">"post"</span> <span class="na">id=</span><span class="s">"form"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;div&gt;&lt;label&gt;</span>Username:<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span><span class="err">,</span> <span class="na">id=</span><span class="s">"username"</span> <span class="na">name=</span><span class="s">"userid"</span><span class="nt">/&gt;&lt;/label&gt;&lt;/div&gt;</span>
		<span class="nt">&lt;div&gt;&lt;label&gt;</span>Password:<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"password"</span> <span class="na">id=</span><span class="s">"password"</span> <span class="na">name=</span><span class="s">"password"</span><span class="nt">/&gt;&lt;/label&gt;&lt;/div&gt;</span>
		<span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"submit"</span><span class="nt">&gt;</span>Submit<span class="nt">&lt;/button&gt;</span>
	<span class="nt">&lt;/form&gt;</span>

<span class="nt">&lt;/section&gt;</span>
</code></pre></div></div> <p>Validate function:</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">validate</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
	<span class="kd">const</span> <span class="nx">userName</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">username</span><span class="dl">"</span><span class="p">).</span><span class="nx">value</span><span class="p">;</span>
	<span class="kd">const</span> <span class="nx">name</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">).</span><span class="nx">value</span><span class="p">;</span>
	<span class="kd">const</span> <span class="nx">pw</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">password</span><span class="dl">"</span><span class="p">).</span><span class="nx">value</span><span class="p">;</span>
	<span class="kd">const</span> <span class="nx">confirmPw</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">confirm_password</span><span class="dl">"</span><span class="p">).</span><span class="nx">value</span><span class="p">;</span>
	
	<span class="k">if</span><span class="p">(</span><span class="nx">userName</span> <span class="o">==</span> <span class="dl">""</span><span class="p">){</span>
		<span class="nf">showError</span><span class="p">(</span><span class="nx">errorMessages</span><span class="p">[</span><span class="dl">"</span><span class="s2">NO_USER</span><span class="dl">"</span><span class="p">]);</span>
		<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">userName</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">25</span><span class="p">){</span>
		<span class="nf">showError</span><span class="p">(</span><span class="nx">errorMessages</span><span class="p">[</span><span class="dl">"</span><span class="s2">USER_TOO_LONG</span><span class="dl">"</span><span class="p">]);</span>
		<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">pw</span> <span class="o">==</span> <span class="dl">""</span><span class="p">){</span>
		<span class="nf">showError</span><span class="p">(</span><span class="nx">errorMessages</span><span class="p">[</span><span class="dl">"</span><span class="s2">NO_PASSWORD</span><span class="dl">"</span><span class="p">]);</span>
		<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">pw</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">){</span>
		<span class="nf">showError</span><span class="p">(</span><span class="nx">errorMessages</span><span class="p">[</span><span class="dl">"</span><span class="s2">PASSWORD_TOO_LONG</span><span class="dl">"</span><span class="p">]);</span>	
		<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">confirmPw</span> <span class="o">!=</span> <span class="nx">pw</span><span class="p">){</span>
		<span class="nf">showError</span><span class="p">(</span><span class="nx">errorMessages</span><span class="p">[</span><span class="dl">"</span><span class="s2">PASSWORD_NOT_MATCH</span><span class="dl">"</span><span class="p">]);</span>
		<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nf">zxcvbn</span><span class="p">(</span><span class="nx">pw</span><span class="p">).</span><span class="nx">score</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">){</span>
		<span class="nf">showError</span><span class="p">(</span><span class="nx">errorMessages</span><span class="p">[</span><span class="dl">"</span><span class="s2">PASSWORD_TOO_WEAK</span><span class="dl">"</span><span class="p">]);</span>
		<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">name</span> <span class="o">==</span> <span class="dl">""</span><span class="p">){</span>
		<span class="nf">showError</span><span class="p">(</span><span class="nx">errorMessages</span><span class="p">[</span><span class="dl">"</span><span class="s2">NO_NAME</span><span class="dl">"</span><span class="p">]);</span>
		<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">name</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">){</span>
		<span class="nf">showError</span><span class="p">(</span><span class="nx">errorMessages</span><span class="p">[</span><span class="dl">"</span><span class="s2">NAME_TOO_LONG</span><span class="dl">"</span><span class="p">]);</span>
		<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">else</span> <span class="p">{</span>
		<span class="nf">showError</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
		<span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">};</span>
</code></pre></div></div> <p>Username:</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//callback for username change and talks to server to see if username exists</span>
<span class="c1">//uses setUsernameStatus to change the icon based on result from server</span>
<span class="kd">const</span> <span class="nx">onUsernameChange</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
	<span class="kd">const</span> <span class="nx">userName</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">username</span><span class="dl">"</span><span class="p">).</span><span class="nx">value</span><span class="p">;</span>
	<span class="nx">axios</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="dl">"</span><span class="s2">../dynamic/user/exists?userid=</span><span class="dl">"</span> <span class="o">+</span> <span class="nx">userName</span><span class="p">).</span><span class="nf">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="p">{</span>
		<span class="nf">setUsernameStatus</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">exists</span><span class="p">);</span>
	<span class="p">});</span>
<span class="p">}</span>
</code></pre></div></div> <p>Password:</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//callback for password change, tests password against zxcvbn libs and</span>
<span class="c1">//uses setScore to display strength</span>
<span class="kd">const</span> <span class="nx">onPasswordChange</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
	<span class="kd">const</span> <span class="nx">pw</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">password</span><span class="dl">"</span><span class="p">).</span><span class="nx">value</span><span class="p">;</span>
	<span class="kd">const</span> <span class="nx">sc</span> <span class="o">=</span> <span class="nf">zxcvbn</span><span class="p">(</span><span class="nx">pw</span><span class="p">).</span><span class="nx">score</span><span class="p">;</span>
	<span class="nf">setScore</span><span class="p">(</span><span class="nx">sc</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div> <h4><strong><u>Project 5</u></strong></h4> <h6><strong>Description</strong></h6> <p>The next project I completed in this class was a RESTful API with endpoints surrounding students and grades. Once again redis was the database of choice due to its speed and ease of use. The API created in this project was used in the next project (project 6) to send data to the React front-end.</p> <p>The project requirements:</p> <ul> <li>Handle HTTP Status Codes: 200, 400, 401, 404, and 500</li> <li>A function to:</li> <ul> <li>Filter results based on a given value</li> <li>Sort results based on a type</li> <li>Paginate results</li> </ul> <li>Endpoints:</li> <ul> <li> <strong>POST /students -</strong> add a student</li> <li> <strong>DELETE /students/:username -</strong> delete a student</li> <li> <strong>PUT /students/:id -</strong> modify a student</li> <li> <strong>GET /students/:id -</strong> get a student</li> <li> <strong>GET /students -</strong> get all students</li> <li> <strong>POST /grades -</strong> add a grade</li> <li> <strong>GET /grades/:id -</strong> get a grade</li> <li> <strong>PUT /grades/:id -</strong> modify a grade</li> <li> <strong>DELETE /grades/:id -</strong> delete a grade</li> <li> <strong>GET /grades -</strong> get all grades</li> </ul> </ul> <p>Filter/Sort/Paginate function:</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//this takes a set of items and filters, sorts and paginates the items.</span>
<span class="c1">//it gets it's commands from queryArgs and returns a new set of items</span>
<span class="kd">const</span> <span class="nx">filterSortPaginate</span> <span class="o">=</span> <span class="p">(</span><span class="nx">type</span><span class="p">,</span> <span class="nx">queryArgs</span><span class="p">,</span> <span class="nx">items</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
	<span class="kd">let</span> <span class="nx">keys</span><span class="p">;</span>
	<span class="c1">//create an array of filterable/sortable keys</span>
	<span class="k">if</span><span class="p">(</span><span class="nx">type</span> <span class="o">==</span> <span class="dl">'</span><span class="s1">student</span><span class="dl">'</span><span class="p">){</span>
		<span class="nx">keys</span> <span class="o">=</span> <span class="p">[</span><span class="dl">'</span><span class="s1">id</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">name</span><span class="dl">'</span><span class="p">];</span>
	<span class="p">}</span><span class="k">else</span><span class="p">{</span>
		<span class="nx">keys</span> <span class="o">=</span> <span class="p">[</span><span class="dl">'</span><span class="s1">id</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">student_id</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">type</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">max</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">grade</span><span class="dl">'</span><span class="p">];</span>
	<span class="p">}</span>

	<span class="c1">//applied to each item in items</span>
	<span class="c1">//returning true keeps item</span>
	<span class="kd">const</span> <span class="nx">filterer</span> <span class="o">=</span> <span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="o">=&gt;</span><span class="p">{</span>		
		<span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">keys</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
			<span class="kd">const</span> <span class="nx">key</span> <span class="o">=</span> <span class="nx">keys</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span>
			<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">queryArgs</span><span class="p">[</span><span class="nx">key</span><span class="p">])</span> <span class="k">continue</span><span class="p">;</span>
			<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">item</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nf">toLowerCase</span><span class="p">().</span><span class="nf">includes</span><span class="p">(</span><span class="nx">queryArgs</span><span class="p">[</span><span class="nx">key</span><span class="p">]))</span> <span class="k">return</span> <span class="kc">false</span>
		<span class="p">}</span>
		<span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
	<span class="p">};</span>

	<span class="c1">//apply above function using Array.filterer</span>
	<span class="nx">items</span> <span class="o">=</span> <span class="nx">items</span><span class="p">.</span><span class="nf">filter</span><span class="p">(</span><span class="nx">filterer</span><span class="p">);</span>
	<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">items after filter:</span><span class="dl">'</span><span class="p">,</span><span class="nx">items</span><span class="p">)</span>

	<span class="c1">//always sort, default to sorting on id</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">queryArgs</span><span class="p">.</span><span class="nx">_sort</span><span class="p">){</span>
		<span class="nx">queryArgs</span><span class="p">.</span><span class="nx">_sort</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">id</span><span class="dl">'</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="c1">//make sure the column can be sorted</span>
	<span class="kd">let</span> <span class="nx">direction</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">queryArgs</span><span class="p">.</span><span class="nx">_order</span><span class="p">){</span>
		<span class="nx">queryArgs</span><span class="p">.</span><span class="nx">_order</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">asc</span><span class="dl">'</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">if</span><span class="p">(</span><span class="nx">queryArgs</span><span class="p">.</span><span class="nx">_order</span><span class="p">.</span><span class="nf">toLowerCase</span><span class="p">()</span> <span class="o">==</span> <span class="dl">'</span><span class="s1">desc</span><span class="dl">'</span><span class="p">){</span>
		<span class="nx">direction</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="c1">//used to sort items</span>
	<span class="kd">const</span> <span class="nx">sorter</span> <span class="o">=</span> <span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">)</span><span class="o">=&gt;</span><span class="p">{</span>
		<span class="kd">const</span> <span class="nx">toSort</span> <span class="o">=</span> <span class="nx">queryArgs</span><span class="p">.</span><span class="nx">_sort</span><span class="p">;</span>
		<span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">toSort</span><span class="p">].</span><span class="nf">toLowerCase</span><span class="p">()</span> <span class="o">===</span> <span class="nx">b</span><span class="p">[</span><span class="nx">toSort</span><span class="p">].</span><span class="nf">toLowerCase</span><span class="p">())</span> <span class="k">return</span> <span class="mi">0</span>
		
		<span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">toSort</span><span class="p">].</span><span class="nf">toLowerCase</span><span class="p">()</span> <span class="o">&gt;</span> <span class="nx">b</span><span class="p">[</span><span class="nx">toSort</span><span class="p">].</span><span class="nf">toLowerCase</span><span class="p">())</span> <span class="k">return</span> <span class="mi">1</span> <span class="o">*</span> <span class="nx">direction</span>	

		<span class="k">return</span> <span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="nx">direction</span><span class="p">;</span>
	<span class="p">};</span>

	<span class="c1">//use apply the above comparator using Array.sort</span>
	<span class="nx">items</span><span class="p">.</span><span class="nf">sort</span><span class="p">(</span><span class="nx">sorter</span><span class="p">);</span>
	<span class="k">if</span><span class="p">(</span><span class="nx">queryArgs</span><span class="p">.</span><span class="nx">_start</span> <span class="o">||</span> <span class="nx">queryArgs</span><span class="p">.</span><span class="nx">_end</span> <span class="o">||</span> <span class="nx">queryArgs</span><span class="p">.</span><span class="nx">_limit</span><span class="p">){</span>
		<span class="k">if</span><span class="p">(</span><span class="nx">queryArgs</span><span class="p">.</span><span class="nx">_start</span><span class="p">){</span>
			<span class="nx">start</span> <span class="o">=</span> <span class="nx">queryArgs</span><span class="p">.</span><span class="nx">_start</span>
		<span class="p">}</span>

		<span class="nx">end</span> <span class="o">=</span> <span class="nx">queryArgs</span><span class="p">.</span><span class="nx">_end</span> <span class="p">?</span> <span class="nx">queryArgs</span><span class="p">.</span><span class="nx">_end</span> <span class="p">:</span> <span class="nx">items</span><span class="p">.</span><span class="nx">length</span>
		<span class="k">if</span><span class="p">(</span><span class="nx">queryArgs</span><span class="p">.</span><span class="nx">_end</span><span class="p">){</span>
			<span class="nx">end</span> <span class="o">=</span> <span class="nx">queryArgs</span><span class="p">.</span><span class="nx">_end</span>
		<span class="p">}</span>
		<span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">queryArgs</span><span class="p">.</span><span class="nx">_limit</span><span class="p">){</span>
			<span class="nx">end</span> <span class="o">=</span> <span class="nx">queryArgs</span><span class="p">.</span><span class="nx">_start</span> <span class="o">+</span> <span class="nx">queryArgs</span><span class="p">.</span><span class="nx">_limit</span>
		<span class="p">}</span>

		<span class="nx">items</span> <span class="o">=</span> <span class="nx">items</span><span class="p">.</span><span class="nf">slice</span><span class="p">(</span><span class="nx">start</span><span class="p">,</span> <span class="nx">end</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="nx">items</span><span class="p">;</span>
<span class="p">};</span>
</code></pre></div></div> <p>For the sake of brevity, I won’t include the endpoint functions but you can find them <a href="https://github.com/ShaneGaymon28/Web-Application-Programming/blob/main/project5/server/server.js" rel="external nofollow noopener" target="_blank">here</a>.</p> <h4><strong><u>Project 6</u></strong></h4> <h6><strong>Description</strong></h6> <p>Project 6 involved using the REST API created in project 5 to create a front-end using React (more specifically <a href="https://marmelab.com/react-admin/" rel="external nofollow noopener" target="_blank">React-admin</a>).</p> <p>The project required creating the following files (all in app/src/ directory):</p> <ul> <li> <strong>Grades.js -</strong> file that handles creating, editing, and displaying all or a single grade entry for a student</li> <li> <strong>Students.js -</strong> file that handles creating, editing, and displaying all or a single student</li> <li> <strong>App.js -</strong> the main file that gets loaded by React</li> </ul> <p>In both <code class="language-plaintext highlighter-rouge">Grades.js</code> and <code class="language-plaintext highlighter-rouge">Students.js</code>, the following functions were added:</p> <ul> <li> <strong>List -</strong> returns a react-admin List component that on click goes to the show view and displays the fields in a TextField component </li> <li> <strong>Show -</strong> returns a react-admin Show component containing either:</li> <ul> <li>Students - TextFields for id and name as well as a referenceMany field referencing the grades resource</li> <li>Grades - TextFields for id and type, NumberFields for the grade and max, and a ReferenceField for the associated student id</li> </ul> <li> <strong>Edit -</strong> returns a react-admin Edit component to modify a resource</li> <li> <strong>Create -</strong> returns a react-admin Create component to create a resource</li> </ul> </article> </div> </div> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2023 Eric Shane Gaymon. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?7b30caa5023af4af8408a472dc4e1ebb"></script> <script defer src="/assets/js/bootstrap-toc.min.js?c82ff4de8b0955d6ff14f5b05eed7eb6"></script> <script defer src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/assets/js/copy_code.js?c9d9dd48933de3831b3ee5ec9c209cac" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>